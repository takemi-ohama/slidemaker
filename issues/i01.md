# 開発AIエージェント向け指示書

* このドキュメントは開発AIエージェント向けの指示書です。
* チャットで「docs/cmd01.mdのx番を実行してください」と言われたらこのファイルを読み、見出しに書いてある番号の内容を実行してください。


# 1. slidemaker開発プロジェクト
* このプロジェクトは以下のようなスライド作成ツールを開発するプロジェクトです。
* 以下の要件に基いて開発計画を作成し、issues/PLAN01/に出力してください

## 仕様概要

### 新規作成モード
* markdownでスライドの構成概要を受け取る
* llmを使ってスライドの設定と各ページの画像と文言を定義し、markdownによる構成定義を出力する
    * スライドの設定はスライドのサイズや共通背景、ファイル名などを定義
    * ページ定義やサイズはPowerPointの仕様に従う。例えばサイズのデフォルトは16:9ワイド画面
    * 各ページの要素は画像とテキストからなり、それぞれ座標、要素の上下関係、透過率等も定義する
    * テキストはフォント、フォントサイズ、色なども定義する。定義内容はPowerPointの仕様に従う
* llmを使って画像を生成する
* スライド設定に従って新規PowerPointドキュメントを作成し、構成定義に従って要素を作成、配置する
* スライドを保存して終了

### pdf、画像から作成モード
* pdfやディレクトリにまとめられた画像ファイル群を受け取る
* llmを使ってスライドの構成要素を分解し、画像とテキストに分離する
* llmを使ってスライドの設定と各ページの画像と文言を定義し、markdownによる構成定義を出力する
    * * 構成定義の内容は新規作成モードと同様
* llmを使って画像要素をトリミングし、テキストが載ってしまっていればそれを除去したうえで保存する
* 背景画像等があればllmを使って上に載っている画像やテキストを除去したうえで保存する
* スライド設定に従って新規PowerPointドキュメントを作成し、構成定義に従って要素を作成、配置する
* スライドを保存して終了

## llm
* llmは選択できるようにする。
    * apiとcli経由の利用の両方に対応する
    * 対応するapiはnano banana, gemini, gpt-5.2, claude-opus等
    * cliとしてcodex cli, gemini cli, claude code, kiro cliなど
    * 構成定義と画像生成のllmは別に指定できるようにすること

## 開発仕様
* 開発言語はpython3.13とする。ただし、webuiのフロントエンドのみreact+typescriptとする
* cli版とwebui版を開発する
    * cli版とwebui版のコードはモジュール化して極力共有するこお

## デプロイ環境
* cli版はpypiに登録し、git actionsにciを設定してください
* webui版はAWS環境にlambda+api gatewayでdeployします。cdk(python版)を使って定義してください


